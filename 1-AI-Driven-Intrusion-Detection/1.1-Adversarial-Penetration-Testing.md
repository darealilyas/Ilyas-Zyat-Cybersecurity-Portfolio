# Adversarial Penetration Testing

## Context

This phase of the project focuses on generating realistic adversarial traffic in a controlled virtual laboratory environment. The objective is to evaluate how intrusion detection systems behave when exposed to penetration testing activity rather than relying solely on pre-existing datasets.

An isolated VirtualBox environment was configured where Kali Linux acts as the attacker platform while Ubuntu Desktop functions as both the victim machine and the signature-based intrusion detection node through Snort. This architecture ensures full control over network traffic, prevents interaction with external systems, and guarantees reproducibility of experiments.

The generated attack traffic is captured using Snort and packet analysis tools such as Wireshark. These captured packets are later converted into machine-learning compatible formats to evaluate the performance of the Random Forest intrusion detection model against realistic adversarial conditions.

This approach enables comparison between traditional signature-based intrusion detection and AI-based behavioural detection under identical attack scenarios.

---

## Attack Selection

The attacks were selected to represent multiple categories commonly observed during real penetration testing engagements. The objective was not exploitation impact but the generation of diverse network behaviours suitable for intrusion detection evaluation.

Tools including Nmap, Hydra, Metasploit, cURL, Hping3, Slowloris, and DIRB were chosen because each produces a distinct attack pattern. Combining reconnaissance, brute-force authentication attempts, denial-of-service behaviour, flooding traffic, exploitation preparation, and directory enumeration provides a broad adversarial dataset for IDS analysis.

This diversity ensures that the machine-learning intrusion detection model is evaluated against realistic traffic rather than static dataset entries.

---

## Attack Scenarios

### Reconnaissance and Scanning

Reconnaissance activities were conducted primarily using Nmap scans targeting HTTP and SMB services on the Ubuntu victim machine. These scans provide visibility into exposed services and simulate typical pre-exploitation information gathering performed during penetration testing.

A second enumeration scan focused specifically on SMB metadata such as protocol capabilities and host information.

ðŸ“¸ **Insert screenshot: Nmap scan output**

---

### Directory Enumeration

Directory enumeration was performed using DIRB against the Apache web server hosted on Ubuntu. The tool systematically requests structured URL paths to identify hidden directories and web resources.

This activity reflects realistic web reconnaissance behaviour frequently observed before exploitation attempts.

ðŸ“¸ **Insert screenshot: DIRB enumeration**

---

### Credential-Based Attacks

Brute-force authentication attempts were executed using Hydra against the FTP service running on Ubuntu. Multiple credential combinations were tested through the FTP protocol, replicating common intrusion attempts targeting weak authentication mechanisms.

This generates traffic patterns typical of password-guessing attacks observed in enterprise networks.

ðŸ“¸ **Insert screenshot: Hydra attack output**

---

### Denial-of-Service Activity

A Slowloris low-bandwidth denial-of-service attack was initiated against the Apache web server. The attack sends persistent keep-alive headers at fixed intervals to exhaust server resources while maintaining relatively low traffic volume.

This type of attack is useful for testing IDS detection capability against stealthier DoS behaviours.

ðŸ“¸ **Insert screenshot: Slowloris attack**

---

### Flooding Attacks

HPING3 was used to generate high-rate UDP and ICMP flooding traffic. Unlike Slowloris, this produces burst traffic intended to stress network services and simulate volumetric denial-of-service conditions.

ðŸ“¸ **Insert screenshot: HPING3 flooding**

---

### Web Interaction and Injection Attempts

cURL-based interactions were performed using forged user-agent strings and manipulated HTTP headers to access web services. This simulates abnormal web interaction patterns and potential injection reconnaissance.

ðŸ“¸ **Insert screenshot: cURL activity**

---

### Exploitation Preparation

Metasploit was used primarily for reconnaissance-level exploitation preparation, including port scanning and service enumeration. This reflects realistic attacker workflow where scanning precedes exploitation attempts.

ðŸ“¸ **Insert screenshot: Metasploit scan**

---

### Traffic Capture and Monitoring

During all attack executions:

- Snort monitored traffic in real time and generated alerts
- Packets were captured in PCAP format
- Wireshark was used for detailed packet verification

This ensures traceability between attack generation, detection alerts, and machine-learning evaluation data.

ðŸ“¸ **Insert screenshot: Snort alerts / Wireshark capture**

---

## Ethical Considerations

All penetration testing activities were conducted within a fully isolated virtual laboratory environment.

No external systems, networks, or real-world entities were targeted. The NAT-isolated VirtualBox network ensures that all generated traffic remains contained, enabling safe experimentation and ethical research practices.

The purpose of these activities is strictly academic and focused on improving intrusion detection research rather than exploitation.

